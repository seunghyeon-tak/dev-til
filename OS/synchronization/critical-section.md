# 🛡️ 임계 영역 (Critical Section)

📅 작성일: 2025-04-04  
📂 분류: OS / Synchronization  
🔖 태그: #임계영역 #critical-section #race-condition #동기화 #운영체제

---

## 🔍 요약

임계영역은 여러 스레드(or 프로세스)가 **공유 자원에 접근하는 코드 영역** 중,

**한 번에 오직 하나만 실행되어야 하는 부분**을 말한다.

---

## 💥 왜 중요한가요?

- 스레드가 동시에 자원에 접근하면 **Race Condition(경쟁 상태)** 발생 가능
- 하지만, 임계 영역을 정의하고 **하나의 스레드만 접근하도록 제한** 하면 이런 문제를 방지 할 수 있음

---

## 🧠 쉽게 예를 들면…

- 은행 계좌 잔액 처리, 게시물 좋아요 수 증가, 장바구니 수량 증가 등
- "여러 스레드가 동시에 건드리면 안되는 부분"이 바로 임계영역이다.

---

## ✅ 임계 영역의 특징

- 공유 자원 접근 코드
- 하나의 스레드만 접근 가능해야함
- 동기화 기법(Mutexm Semaphore 등)으로 보호됨

---

## 🔒 보호하는 방법

```java
synchronized (this) {
    // 이 안이 임계영역
    count++;
}
```

```java
Lock lock = new ReentrantLock();
lock.lock();
try {
    // 임계 영역
    count++;
} finally {
    lock.unlock();
}
```

---

## ⚠️ 주의할 점

- 임계영역을 **너무 많이 설정하면 성능 저하**
- 너무 적게 설정하면 Race Condition 발생 가능
    - 최소한의 범위로 정확하게 설정하는 게 중요함