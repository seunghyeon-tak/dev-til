# ⚙️ 가상 메모리와 페이지 교체 알고리즘

📅 작성일: 2025-04-26
📂 분류: OS / Memory
🔖 태그: #운영체제 #가상메모리 #페이지교체 #메모리관리 #초보자용

---

## 🔍 왜 이걸 알아야 하나?

컴퓨터에 프로그램을 실행하면, 운영체제는 프로그램이 쓸 메모리를 나눠줘야 한다.

그런데 문제는

"실제 메모리는 한정돼 있는데, 실행되는 프로그램은 많고, 크기도 크다."

-> 그래서 운영체제가 마치 메모리가 큰 것처럼 속이는 기술이 필요하다. (이게 가상 메모리)

---

## 📦 1. 가상 메모리(Virtual Memory)란?

> "책상은 작지만, 책장은 무한대인 것처럼 보이게 하는 마법"

### 📘 쉽게 설명하면:

- 물리 메모리는 작다 (책상)
- 디스크 공간을 빌려서 메모리처럼 씀 (책장)
- 프로그램은 전부 메모리에 올라온 것처럼 착각함

📌 즉, 가상 메모리는 **디스크 공간을 임시 메모리처럼 활용하는 기술**이다.

---

## 📦 2. 그럼 어떻게 작동하나?

- 프로그램을 실행하면 가상 주소를 생성한다.
- 실제 메모리에 없는 페이지는 디스크에서 불러온다.
- 이걸 **페이지(Page)**라고 부른다.
- 메모리에 올릴 자리가 없으면? -> 다른 페이지 하나를 내보내야 한다.

-> 이때 필요한게 **페이지 교체 알고리즘**이다.

---

## 🔁 3. 페이지 교체 알고리즘 (Page Replacement Algorithm)

> 책상이 가득 찼을때, 새 책을 올리기 위해 어떤 책을 치울지 정하는 규칙

---

## 🔧 4. 어떤 알고리즘이 있을까?

|이름 | 비유 | 특징|
|----|-----|----|
|📜 FIFO | “제일 먼저 올린 책부터 치움” | 단순하지만 비효율 가능|
|⏱ LRU | “가장 오래 안 본 책 치움” | 실제 사용 패턴에 가까움|
|⭐️ Optimal | “앞으로 가장 늦게 쓸 책 치움” | 이론상 최고 (예측 불가능해서 실제 구현은 어려움)|
|🔁 Clock | LRU를 간단하게 구현한 방식 | 최근 사용 여부만 확인|

---

## 🤹‍♂️ 예시로 이해해보기

```text
[현재 책상 상태]
A, B, C

[새 책 D를 올려야 함]
→ 페이지가 꽉 참 → 하나를 내보내야 함!

FIFO: A 제거  
LRU: 가장 오래 안 쓴 책 제거  
Optimal: 앞으로 제일 늦게 쓸 책 제거
```

---

## ✅ 요약

|항목 | 가상 메모리 | 페이지 교체 알고리즘|
|----|----------|----------------|
|무엇인가요? | 메모리보다 큰 프로그램도 실행 가능하게 해주는 기술 | 메모리가 꽉 찼을 때, 어떤 데이터를 내보낼지 정하는 방법|
|왜 필요한가요? | 실제 메모리는 작고, 프로그램은 큼 | 페이지 교체 없으면 더 이상 실행 불가능|
|예시 | 디스크를 임시 메모리로 사용 | FIFO, LRU, Optimal 등|

---

## 💡 핵심 정리

> 가상 메모리는 "작은 메모리로 큰 프로그램을 돌리게 해주는 기술"
> 페이지 교체 알고리즘은 **가상 메모리를 쓸때, 어떤 데이터를 내보낼지를 정하는 전략** 이다.
