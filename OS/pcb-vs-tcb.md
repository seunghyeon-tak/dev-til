# 📘 PCB vs TCB

📅 작성일: 2025-03-31  
📂 분류: OS  
🔖 태그: #운영체제 #PCB #TCB #프로세스관리 #스레드관리

---

## 🔍 요약

운영체제는 여러 작업을 번갈아가며 실행할때,

각 작업의 상태를 **어디엔가 저장해둘 필요**가 있다.

이걸 저장하는 구조가
- PCB(Process Control Block) : 프로세스 상태 저장
- TCB(Thread Control BLock) : 스레드 상태 저장

---

## 📦 각각의 의미

### ✅ PCB란?

> 프로세스의 모든 실행 정보를 저장하는 정보 카드

- 운영체제가 프로세스를 관리하려면 이 정보가 필요함
- 하나의 프로세스마다 하나의 PCB가 만들어진다.

**📄 PCB에 들어 있는 정보 예시:**

- 프로세스 ID (PID)
- 현재 상태 (실행 중, 대기 중 등)
- CPU 레지스터 값
- 프로그램 카운터 (다음에 실행할 명령어 주소)
- 메모리 정보 (코드, 힙, 스택 위치 등)
- 열린 파일 목록

---

### ✅ TCB란?

> 스레드의 실행 정보를 저장하는 작은 카드

- 하나의 프로세스 안에 여러 개의 스레드가 있을 수 있고,
- 각각의 스레드도 상태가 다르니깐 따로 관리가 필요

**📄 TCB에 들어 있는 정보 예시:**

- 스레드 ID
- 스레드 상태 (실행 중, 준비 중 등)
- 스택 포인터
- 레지스터 값
- 우선순위

> TCB는 PCB와 비슷하지만, 프로세스 전체 정보가 아니라 스레드 하나의 정보만 저장한다.

---

## 🎯 차이점 정리

| 항목             | PCB                               | TCB                            |
|------------------|------------------------------------|--------------------------------|
| 관리 대상        | 프로세스                            | 스레드                         |
| 포함 정보        | 메모리 전체, PID, 파일 정보 등         | 스택, 레지스터 등 스레드 관련 |
| 생성 시점        | 프로세스 생성 시                     | 스레드 생성 시                |
| 위치 관계        | 각 PCB 안에 여러 개의 TCB가 연결될 수 있음 | TCB는 PCB 안에 포함되거나 참조함 |

---

## 💡 기억 포인트

- PCB는 **큰 틀 (프로세스)**, TCB는 **세부 실행 흐름(스레드)**을 다룬다.
- 운영체제는 Context Switching시 PCB/TCB 정보를 저장했다가 불러옴
- 다중 스레드 프로그램에서는 TCB 단위로 실행 전환이 이루어짐

---

## 🧠 쉬운 예로 비유 해보기

PCB는 폴더이고,

TCB는 폴더 안에 들어있는 문서들이다.

하나의 작업을 폴더로 생각하면,

동시에 돌아가는 작업 흐름 하나하나가 문서처럼 각각 관리된다.