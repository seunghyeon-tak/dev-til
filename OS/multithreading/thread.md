# ğŸ§µ ìŠ¤ë ˆë“œ(Thread)ë€?

ğŸ“… ì‘ì„±ì¼: 2025-04-03  
ğŸ“‚ ë¶„ë¥˜: OS / Multithreading  
ğŸ”– íƒœê·¸: #ìŠ¤ë ˆë“œ #Thread #ìš´ì˜ì²´ì œ #ë©€í‹°ìŠ¤ë ˆë”© #ì‹¤í–‰íë¦„

---

## ğŸ” ìš”ì•½

**ìŠ¤ë ˆë“œ(Thread)**ëŠ” í”„ë¡œê·¸ë¨(=í”„ë¡œì„¸ìŠ¤) ì•ˆì—ì„œ **ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ê°€ì¥ ì‘ì€ ì‘ì—…ë‹¨ìœ„**ì´ë‹¤.

ì‰½ê²Œ ë§í•´, í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ì´ ë™ì‹œì— ì—¬ëŸ¬ ì¼ì„ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì‹¤í–‰ íë¦„ì´ë‹¤.

---

## ğŸ’¡ ì™œ ìŠ¤ë ˆë“œê°€ í•„ìš”í• ê¹Œ?

- í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ì´ ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì— ì²˜ë¦¬í•˜ë ¤ë©´ í•„ìš”í•¨
- ex)
    - ì˜ìƒ í”Œë ˆì´ì–´ì—ì„œ ì˜ìƒ ì¬ìƒ + ìë§‰ ì¶œë ¥ + ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬
    - ì›¹ ì„œë²„ê°€ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ ì²˜ë¦¬

---

## âœ¨ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

- í”„ë¡œì„¸ìŠ¤: í•˜ë‚˜ì˜ íšŒì‚¬
- ìŠ¤ë ˆë“œ: íšŒì‚¬ ì•ˆì˜ ì§ì›ë“¤
  - ê°™ì€ ìì›(ê±´ë¬¼, ì»´í“¨í„° ë“±)ì„ ê³µìœ í•˜ë©´ì„œ ê°ì ë‹¤ë¥¸ ì¼ì„ í•¨

---

## ğŸ“ ì •ë¦¬ ë©”ëª¨

- ìŠ¤ë ˆë“œëŠ” ê°€ë³ê³  ë¹ ë¥´ì§€ë§Œ, ê³µìœ  ìì› ë•Œë¬¸ì— ì¶©ëŒ ì£¼ì˜ í•´ì•¼í•œë‹¤.
- ë©€í‹°ìŠ¤ë ˆë”©ì€ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ì¤‘ìš”í•œ ê°œë…ì´ì§€ë§Œ, **ë™ê¸°í™” ë¬¸ì œë„ í•¨ê»˜ ë”°ë¼ì˜¨ë‹¤.**

---

## ë©€í‹° ìŠ¤ë ˆë”© ì‹¤ìŠµ

### ê¸°ë³¸êµ¬ì¡°

```java
public class MultiThreadExample {
    public static void main(String[] args) {
        Runnable task = () -> {
            String name = Thread.currentThread().getName();
            for (int i = 0; i < 5; i++) {
                System.out.println(name + " - count : " + i);
            }
        };

        Thread t1 = new Thread(task, "Worker-1");
        Thread t2 = new Thread(task, "Worker-2");
        Thread t3 = new Thread(task, "Worker-3");

        t1.start();
        t2.start();
        t3.start();
    }
}
```

- Worker-1, Worker-2, Worker-3ì´ **ë™ì‹œì— ì‹¤í–‰**ë˜ë©° ë¡œê·¸ê°€ ì„ì—¬ì„œ ì¶œë ¥
- ì‹¤í–‰ ìˆœì„œëŠ” ë§¤ë²ˆ ë‹¬ë¼ì§ -> ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì¡´ì¬

---

## âœ… ë©€í‹°ìŠ¤ë ˆë”©ì´ ì‚¬ìš©ë˜ëŠ” ëŒ€í‘œ ì‚¬ë¡€

### 1. ğŸ”„ HTTP ìš”ì²­ ì²˜ë¦¬ (ì›¹ ì„œë²„ ë™ì‘ êµ¬ì¡°)

- Spring BootëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Tomcat ê°™ì€ ì›¹ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ë©°,
- **í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬**
- ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ë“¤ì–´ì™€ë„ **ìŠ¤ë ˆë“œ í’€ë¡œ ê°ê° ì²˜ë¦¬ë¨**

ğŸ“Œ ê´€ë ¨ êµ¬ì„±:
- 'ThreadPoolExecutor'
- í†°ìº£ì˜ ìŠ¤ë ˆë“œ í’€ ì„¤ì • ('server.tomcat.thread.max' ë“±)

### 2. ğŸ“¨ ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬

- ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…(ì´ë©”ì¼ ì „ì†¡, ì•Œë¦¼, Slack ë©”ì‹œì§€ ë“±)ì„ ë³„ë¡œ ìŠ¤ë ˆë“œë¡œ ë¶„ë¦¬
- **ì‘ë‹µ ì†ë„ í–¥ìƒ**, **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **

ğŸ“Œ ìŠ¤í”„ë§ì—ì„œëŠ” ì´ë ‡ê²Œ ì‚¬ìš©:
```java
@Async
public void sendEmail(String to) {
  // ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬ë¨
}
```

`@Async`ë¥¼ ë¶™ì´ë©´ í•´ë‹¹ ë©”ì„œë“œëŠ” ë³„ë„ì˜ ìŠ¤ë ˆë“œ í’€ì—ì„œ ì‹¤í–‰ë˜ë©°,

ë©”ì¸ ìš”ì²­ íë¦„ê³¼ ë¶„ë¦¬ë˜ì–´ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ëœë‹¤.

ì¦‰, ë©”ì„œë“œ ìì²´ê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” êµ¬ì¡°ì´ë‹¤.

### 3. ğŸ• ë°°ì¹˜ & ìŠ¤ì¼€ì¤„ë§ ì‘ì—…

- ì‹œê°„ì— ë”°ë¼ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ì‘ì—…ë„ ìŠ¤ë ˆë“œ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ë¨

```java
@Scheduled(cron = "0 0 1 * * *")
public void cleanUpOldData() {
  // ë§¤ì¼ ìƒˆë²½ 1ì‹œì— ì‹¤í–‰
}
```

### 4. âš™ï¸ ë³‘ë ¬ ì²˜ë¦¬ / ë©€í‹°ì½”ì–´ í™œìš©

- ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¡œ ë™ì‹œì— ì²˜ë¦¬í•´ì„œ ì„±ëŠ¥ í–¥ìƒ
- ì´ë¯¸ì§€ ë³€í™˜, íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ ë“±ì—ì„œ ì‚¬ìš©

```java
ExecutorService executor = Executors.newFisedThreadPool(4);
executor.submit(() -> processPart(dataChunk));
```

### 5. ğŸ”’ ë™ì‹œì„± ì œì–´ (ë½, ì„¸ë§ˆí¬ì–´ ë“±)

- ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— DB ë˜ëŠ” ìºì‹œì— ì ‘ê·¼í•˜ë©´ ë°ì´í„° ë¬´ê²°ì„± ë¬¸ì œ ë°œìƒ
- ë½ì„ ê±¸ê±°ë‚˜, Redis ë¶„ì‚°ë½ìœ¼ë¡œ ì œì–´


ğŸ“Œ ì‹¤ë¬´ ì ìš© ì˜ˆ:

- synchronized, ReentrantLock
- Redis SETNX, Redisson