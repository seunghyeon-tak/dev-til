# ⚙️ CPU - 인터럽트 (Interrupt)

📅 작성일: 2025-06-08
📂 분류: 컴퓨터 구조 / CPU
🔖 태그: #CPU #인터럽트 #컴퓨터구조 #시스템콜 #장치관리 #문맥교환

---

## 🔍 요약

인터럽트는 **CPU가 실행중인 작업을 잠시 멈추고**, 긴급한 사건(입출력 완료, 예외, 시스템 호출 등)을 처리하기 위해 **운영체제가 개입하도록 만드는 신호**이다.
인터럽트는 효율적인 CPU 자원 활용을 가능하게 하며, **하드웨어 및 소프트웨어 이벤트에 즉시 반응**할 수 있게 해준다.

---

## ✅ 1. 인터럽트가 필요한 이유

- CPU는 매우 빠르지만 입출력 장치는 상대적 느림
- 입출력 작업이 끝날 때까지 기다리는 대신, CPU는 다른 작업을 수행하다가 **입출력이 완료되면 인터럽트를 통해 통지 받음**
- 이를 통해 **병렬적인 작업 처리**와 **자원 활용도 향상**이 가능

---

## ✅ 2. 인터럽트의 종류

| 구분                | 설명                     | 예시                             |
| ----------------- | ---------------------- | ------------------------------ |
| **하드웨어 인터럽트**     | 외부 장치가 CPU에 요청을 보내는 경우 | 키보드 입력, 디스크 읽기 완료              |
| **소프트웨어 인터럽트**    | 명령어 실행 중 소프트웨어가 요청     | 시스템 콜 (예: `read()`, `write()`) |
| **예외(Exception)** | 프로그램 오류나 특수 조건 발생      | 0으로 나누기, 페이지 폴트                |

---

## ✅ 3. 인터럽트 발생 시 흐름

1. 인터럽트 발생
2. 현재 실행 중인 작업의 상태(문맥)를 저장
3. 인터럽트 서비스 루틴(ISR)으로 분기
4. 인터럽트 처리
5. 저장된 문맥 복원 후, 원래 실행하던 작업 계속

---

## 🧠 핵심 용어 정리

- **ISR (Interrupt Service Routine)**: 인터럽트 발생 시 호출되는 함수

- **문맥(Context)**: 현재 프로세스의 레지스터, PC, 상태값 등의 정보

- **문맥 교환(Context Switching)**: 하나의 프로세스 상태를 저장하고 다른 프로세스 상태를 불러오는 것

- **마스커블/비마스커블 인터럽트**: 마스커블은 무시 가능, 비마스커블은 반드시 처리해야 함 (예: 긴급 전원 종료)

---

## 예시

- 사용자가 키보드를 누르면 → 하드웨어 인터럽트 발생

- CPU는 현재 작업을 멈추고(Crtl + C ?) ISR로 이동 → 누른 키 값을 처리

- 처리 후 원래 작업으로 복귀

---

## 📌 요약 정리

- 인터럽트는 CPU에게 외부 또는 내부에서 발생한 사건을 알리는 신호
- 하드웨어/소프트워어/예외 등 다양한 형태로 발생
- CPU는 인터럽트를 통해 효율적인 작업 전환 및 반응 처리 가능